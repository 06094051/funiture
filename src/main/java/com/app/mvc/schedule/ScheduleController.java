package com.app.mvc.schedule;import com.app.mvc.acl.convert.BaseConvert;import com.app.mvc.beans.JsonData;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestParam;import org.springframework.web.bind.annotation.ResponseBody;import javax.annotation.Resource;/** * Created by jimin on 16/5/8. */@Controller@RequestMapping("/admin/schedule")public class ScheduleController {    @Resource    private ScheduleService scheduleService;    @RequestMapping("/update.json")    @ResponseBody    public JsonData update(ScheduleJobSettingParam param) throws Exception {        BaseConvert.checkPara(param);        ScheduledJobSetting setting = scheduleService.findJobSetting(param.getId());        if (setting == null) {            return JsonData.error("not found setting");        }        setting.setCron(param.getCron());        setting.setStatus(param.getStatus());        scheduleService.updateJobSetting(setting);        return JsonData.success();    }    @RequestMapping("/all.json")    @ResponseBody    public JsonData getAll() {        return JsonData.success(scheduleService.getAll());    }    @RequestMapping("/getListByGroupId.json")    @ResponseBody    public JsonData getListByGroupId(@RequestParam("groupId") String groupId) {        return JsonData.success(scheduleService.getListByGroupId(groupId));    }}